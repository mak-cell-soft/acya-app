<div class="dashboard-wrapper">
    <!-- Welcome Section -->
    <div class="header-section">
        <h1 class="welcome-title">Bienvenue, {{ userName }}</h1>
        <p class="subtitle">Vue d'ensemble de votre activité aujourd'hui</p>
    </div>

    <!-- Shortcuts Section -->
    <div class="shortcuts-container">
        <mat-card class="shortcut-card customer-card" (click)="navigateTo('home/customers')">
            <mat-card-content class="shortcut-content">
                <div class="icon-circle bg-blue">
                    <mat-icon>group</mat-icon>
                </div>
                <span class="shortcut-label">Clients</span>
            </mat-card-content>
        </mat-card>

        <mat-card class="shortcut-card provider-card" (click)="navigateTo('home/providers')">
            <mat-card-content class="shortcut-content">
                <div class="icon-circle bg-orange">
                    <mat-icon>work</mat-icon>
                </div>
                <span class="shortcut-label">Fournisseurs</span>
            </mat-card-content>
        </mat-card>

        <mat-card class="shortcut-card sales-card" (click)="navigateTo('home/customerinvoices')">
            <mat-card-content class="shortcut-content">
                <div class="icon-circle bg-green">
                    <mat-icon>shopping_cart</mat-icon>
                </div>
                <span class="shortcut-label">Ventes</span>
            </mat-card-content>
        </mat-card>

        <mat-card class="shortcut-card config-card" (click)="navigateTo('home/config')">
            <mat-card-content class="shortcut-content">
                <div class="icon-circle bg-purple">
                    <mat-icon>settings</mat-icon>
                </div>
                <span class="shortcut-label">Paramètres</span>
            </mat-card-content>
        </mat-card>
    </div>

    <!-- Loading State -->
    <div *ngIf="loading" class="loading-container">
        <mat-spinner diameter="50"></mat-spinner>
        <p>Chargement des données...</p>
    </div>

    <!-- Charts Section -->
    <div class="charts-container" *ngIf="!loading">
        <!-- Counts Chart -->
        <mat-card class="chart-card">
            <mat-card-header>
                <mat-card-title>Répartition Clients/Fournisseurs</mat-card-title>
            </mat-card-header>
            <mat-card-content class="chart-content doughnut-container">
                <canvas baseChart [data]="countsChartData" [options]="countsChartOptions" [type]="'doughnut'">
                </canvas>
                <div class="total-contacts">
                    Total Contacts: {{ customerCount + providerCount }}
                </div>
            </mat-card-content>
        </mat-card>

        <!-- Sales Chart -->
        <mat-card class="chart-card sales-chart-card">
            <mat-card-header>
                <mat-card-title>Aperçu des Ventes</mat-card-title>
                <mat-card-subtitle>Aujourd'hui: <span class="sales-today">{{ dailySales | number:'1.3-3' }}
                        TND</span></mat-card-subtitle>
            </mat-card-header>
            <mat-card-content class="chart-content">
                <canvas baseChart [data]="salesChartData" [options]="salesChartOptions" [type]="'bar'">
                </canvas>
            </mat-card-content>
        </mat-card>
    </div>
</div>